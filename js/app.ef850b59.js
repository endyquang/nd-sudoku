(function(t){function e(e){for(var i,o,a=e[0],c=e[1],l=e[2],f=0,p=[];f<a.length;f++)o=a[f],s[o]&&p.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/nudoku/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"38c8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"},on:{touchmove:function(t){t.preventDefault()}}},[t.pending?n("div",{staticClass:"pending"},[n("div",{staticClass:"pending__logo"},[t._v("\n      NUDOKU\n    ")]),t.won?[t.won?n("div",{staticClass:"pending__noti"},[t._v("YOU'VE LUCKYLY WON!")]):t._e()]:t.lost?n("div",{staticClass:"pending__noti"},[t._v("YOU DUMBASS LOSER!")]):n("div",{staticClass:"pending__subtitle"},[t._v("Just a dummy text to make it look not as empty as its creator")]),n("div",{staticClass:"pending__score"}),n("base-btn",{staticClass:"pending__start",on:{click:t.start}},[t._v("PLAY "+t._s(t.won||t.lost?"AGAIN":"NOW"))])],2):t._e(),n("header",{staticClass:"header"},[n("span",[t._v("Mistakes: "+t._s(t.mistakes)+"/3")]),n("base-btn",{on:{click:t.togglePaused}},[t._v("\n      "+t._s(t._f("prettifyTime")(t.time))+" "),n("i",{staticClass:"header__btn__icon",class:[t.paused?"ico__pause":"ico__play"]})]),n("base-btn",{on:{click:t.start}},[t._v("New Game")])],1),n("main",{staticClass:"main"},[t.paused?n("div",{staticClass:"paused"},[n("div",{staticClass:"paused__content"},[n("base-btn",{on:{click:t.togglePaused}},[n("i",{staticClass:"ico__play ico--xl"})])],1)]):t._e(),n("div",{staticClass:"play",class:{"play--paused":t.paused}},t._l(t.blocks,function(e,i){return n("div",{key:"b-"+i,staticClass:"play__block"},[t._l(e,function(e){return[t.paused?n("div",{key:e.id,staticClass:"play__cell"}):n("div",{key:e.id,ref:"cells",refInFor:!0,staticClass:"play__cell",class:{selected:t.actives[e.id],active:t.active===e,affected:!t.multiple&&(i===t.active.block||e.row===t.active.row||e.col===t.active.col),same:t.temps[t.active.id]&&t.temps[t.active.id]===t.temps[e.id]},on:{click:function(n){t.onActiveChange(e)}}},[e.value?n("div",{staticClass:"play__cell__fixed"},[t._v(t._s(e.value))]):t.notesState[e.id]?n("div",{staticClass:"play__cell__notes"},t._l(t.notes[e.id],function(e,i){return n("div",{key:i,staticClass:"play__cell__notes__item"},[t._v("\n                "+t._s(e>0?e:"")+"\n              ")])})):t.temps[e.id]?n("div",{staticClass:"play__cell__temp",class:{wrong:t.temps[e.id]!==t.answer[e.id]}},[t._v("\n              "+t._s(t.temps[e.id])+"\n            ")]):t._e()])]})],2)})),n("div",{staticClass:"controls"},[n("base-btn",{class:{primary:t.noting},on:{click:function(e){t.noting=!t.noting}}},[n("div",[t._v("✎")]),t._v(" Note")]),n("base-btn",{on:{click:t.undo}},[n("div",[t._v("⎌")]),t._v(" Undo")]),n("base-btn",{on:{click:t.erase}},[n("div",[t._v("✘")]),t._v(" Erase")]),n("base-btn",{class:{primary:t.multiple},on:{click:t.onMultipleChange}},[n("div",[t._v("☷")]),t._v(" Multiple")])],1),n("div",{staticClass:"number"},t._l(9,function(e){return n("div",{key:e,staticClass:"numbers__item",class:{disabled:9===t.filledNumbers[e-1],primary:t.noting},on:{click:function(n){t.newTemp(e)}}},[t._v(t._s(e))])}))])])},r=[],o=n("3835"),a=(n("5df3"),n("1c4c"),n("ac4d"),n("8a81"),n("ac6a"),n("2909")),c=A(),l=x(),u=v(function(t,e){return h(e)}),f={hardest:26,easy:41};function p(t){var e=v(function(){return""}),n=v(function(){return Array.from({length:9},function(){return 1})});r();var i=Object(a["a"])(e),s=g(e,t);return{answer:i,trimmedAnswer:s,blocks:O(s)};function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(81!==t){var i=[];if(n[t].forEach(function(t,e){1===t&&i.push(e)}),!i.length)return n[t].forEach(function(e,i){2===e&&(n[t][i]=1)}),-1;var s=w(i);if(o(t,s,-1),-1===r(t+1))return n[t][s]=2,o(t,s,1),r(t);e[t]=s+1}}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;u[t].forEach(function(t){n[t][e]+=i})}}function v(t){return Array.from({length:81},t)}function h(t){for(var e=[],n=d(t),i=n.x,s=n.y,r=s+1,o=s+3-s%3,a=i-i%3,c=i+3-i%3,l=t+1;l<t+9-t%9;l++)e.push(l);for(var u=r;u<o;u++)for(var f=a;f<c;f++)e.push(m(f,u));for(var p=t%9+9*o;p<81;p+=9)e.push(p);return e}function d(t){return{x:t%9,y:Math.floor(t/9)}}function m(t,e){return 9*e+t}function _(t,e){var n=Math.floor(t/3),i=Math.floor(e/3);return 3*i+n}function g(t,e){var n=f[e],i=y(n);return i.forEach(function(e,n){for(var i=l[n].slice(),s=0;s<9-e;s++)t[b(i)]=""}),t}function y(t){var e={26:[[4,4,4,4,2,2,2,2,2],[3,3,4,4,4,2,2,2,2],[3,3,3,3,4,4,2,2,2],[3,3,3,3,3,3,4,2,2],[3,3,3,3,3,3,3,3,2]]}[t];return C(w(e))}function b(t){return t.splice(k(t),1)[0]}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t[k(t)]}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Math.floor(Math.random()*t.length)}function C(t){for(var e=Object(a["a"])(t),n=[],i=0;i<9;i++)n.push(b(e));return n}function x(){return Array.from({length:9},function(t,e){var n=e%3*3+27*Math.floor(e/3);return Array.from({length:9},function(t,e){var i=e%3+9*Math.floor(e/3);return n+i})})}function A(){return Array.from({length:81},function(t,e){var n=d(e),i=n.x,s=n.y,r=_(i,s);return{row:s,col:i,block:r}})}function O(t){var e=Array.from({length:9},function(){return[]});return t.forEach(function(t,n){var i=c[n],s=i.row,r=i.col,o=i.block;e[o].push({value:t,id:n,row:s,col:r})}),e}var I={generate:p,addresses:c},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"base__btn",on:{click:function(e){t.$emit("click",e)}}},[t._t("default")],2)},T=[],E={},N=E,j=(n("b6b6"),n("2877")),P=Object(j["a"])(N,M,T,!1,null,null,null);P.options.__file="BaseBtn.vue";var H=P.exports;function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=3600,n=60,i=Math.floor(t/e),s=Math.floor((t-i*e)/n),r=Math.floor(t-i*e-s*n);return[i,s,r]}var U={name:"app",components:{BaseBtn:H},data:function(){return{blocks:[],answer:[],mistakes:0,time:0,active:-1,actives:[],difficulty:"hardest",temps:[],notes:[],noting:!1,pending:!0,won:!1,lost:!1,paused:!1,multiple:!1,timer:null,corrects:0,histories:[],tempHistory:{}}},computed:{notesState:function(){return this.notes.map(function(t){var e=!0,n=!1,i=void 0;try{for(var s,r=t[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var o=s.value;if(o>0)return!0}}catch(a){n=!0,i=a}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}})},filledNumbers:function(){var t=Array.from({length:9},function(){return 0});return this.temps.forEach(function(e,n){e>0&&t[e-1]++}),t}},methods:{start:function(){this.time>0&&this.stopTimer();var t=I.generate("hardest"),e=t.blocks,n=t.answer,i=t.trimmedAnswer;this.blocks=e,this.answer=n,this.temps=i,this.notes=Array.from({length:81},function(){return Array.from({length:9},function(){return 0})}),this.corrects=i.filter(Boolean).length,this.mistakes=0,this.time=0,this.active=-1,this.pending=!1,this.multiple=!1,this.timer=null,this.histories=[],this.tempHistory={notes:[],temps:[]},this.actives=Array.from({length:81},function(){return!1}),this.startTimer()},startTimer:function(){var t=this;this.timer=setInterval(function(){return t.time++},1e3)},stopTimer:function(){clearInterval(this.timer)},pushHistory:function(){this.histories.push(this.tempHistory),this.histories.length>50&&this.histories.splice(0,1),this.tempHistory={notes:[],temps:[]}},newTemp:function(t){var e=this;this.getActiveIndexes(function(n){if(e.noting){var i=t-1,s=e.notes[n][i];return e.tempHistory.notes.push({cellIndex:n,numberIndex:i,value:s}),e.notes[n].splice(i,1,s>0?0:t),e.resetTemp(n)}e.resetNote(n),e.temps[n]===t?e.resetTemp(n):(e.tempHistory.temps.push({cellIndex:n,value:e.temps[n]}),e.temps.splice(n,1,t),e.clearRelevantNotes(n,t),t===e.answer[n]?81===++e.corrects&&e.win():3===++e.mistakes&&e.gameOver())}),this.pushHistory()},clearRelevantNotes:function(t,e){var n=this,i=I.addresses[t],s=i.row,r=i.col,o=i.block;this.blocks[o].forEach(function(t){return n.removeNoteItem(t.id,e)}),this.notes.forEach(function(t,i){s!==I.addresses[i].row&&r!==I.addresses[i].col||n.removeNoteItem(i,e)})},erase:function(){var t=this;this.getActiveIndexes(function(e){t.resetNote(e),t.resetTemp(e)}),this.pushHistory()},undo:function(){var t=this,e=this.histories.pop()||{},n=e.notes,i=void 0===n?[]:n,s=e.temps,r=void 0===s?[]:s;i.forEach(function(e){var n=e.cellIndex,i=e.numberIndex,s=e.value;i>-1?t.notes[n].splice(i,1,s):t.notes.splice(n,1,s)}),r.forEach(function(e){var n=e.cellIndex,i=e.value;t.temps.splice(n,1,i)})},resetNote:function(t){this.notesState[t]&&(this.tempHistory.notes.push({cellIndex:t,value:this.notes[t]}),this.notes.splice(t,1,Array.from({length:9},function(){return 0})))},removeNoteItem:function(t,e){var n=e-1;this.tempHistory.notes.push({cellIndex:t,numberIndex:n,value:this.notes[t][n]}),this.notes[t].splice(n,1,0)},resetTemp:function(t){var e=this.temps[t];e&&(e===this.answer[t]&&this.corrects--,this.tempHistory.temps.push({cellIndex:t,value:e}),this.temps.splice(t,1,""))},getActiveIndexes:function(t){if(!this.paused)if(this.multiple)this.actives.forEach(function(e,n){e&&t(n)});else if(this.active.id&&!this.active.value)return t(this.active.id)},onMultipleChange:function(){this.multiple=!this.multiple,this.multiple?this.active.id&&!this.active.value&&(this.actives.splice(this.active.id,1,!0),this.active=-1):this.actives=Array.from({length:81},function(){return!1})},onActiveChange:function(t){this.multiple&&!t.value?this.actives.splice(t.id,1,!this.actives[t.id]):this.active=t},gameOver:function(){this.lost=!0,this.openPendingWindow()},win:function(){this.won=!0,this.openPendingWindow()},openPendingWindow:function(){this.pending=!0,this.stopTimer()},togglePaused:function(){this.paused=!this.paused,this.paused?this.stopTimer():this.startTimer()}},filters:{prettifyTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(t>-1))return"00:00";var e=function(t){return("0"+t).slice(-2)},n=S(t),i=Object(o["a"])(n,3),s=i[0],r=i[1],a=i[2];return(s?"".concat(e(s),":"):"")+"".concat(e(r),":").concat(e(a))}}},B=U,L=Object(j["a"])(B,s,r,!1,null,null,null);L.options.__file="App.vue";var W=L.exports;n("38c8");i["a"].config.productionTip=!1,document.addEventListener("gesturestart",function(t){t.preventDefault()}),new i["a"]({render:function(t){return t(W)}}).$mount("#app")},b6b6:function(t,e,n){"use strict";var i=n("ea97"),s=n.n(i);s.a},ea97:function(t,e,n){}});